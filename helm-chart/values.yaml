replicaCount: 1

quarkus:
  - name: folkbokford
    image:
      repository: ghcr.io/forsakringskassan/folkbokford
      tag: snapshot      
      livenessProbe:
        httpGet:
          path: /population_registration
          port: 8080
      readinessProbe:
        httpGet:
          path: /population_registration
          port: 8080
    env:
      - name: MP_MESSAGING_CONNECTOR_SMALLRYE_KAFKA_BOOTSTRAP_SERVERS
        value: "template-k8s-kafka-bootstrap:9092"
  - name: arbetsgivare
    image:
      repository: ghcr.io/forsakringskassan/folkbokford
      tag: snapshot
      livenessProbe:
        httpGet:
          path: /employer
          port: 8080
      readinessProbe:
        httpGet:
          path: /employer
          port: 8080
    env:
      - name: MP_MESSAGING_CONNECTOR_SMALLRYE_KAFKA_BOOTSTRAP_SERVERS
        value: "template-k8s-kafka-bootstrap:9092"
  - name: vah
    image:
      repository: ghcr.io/forsakringskassan/rimfrost-vard-av-husdjur
      tag: snapshot
    env:
      - name: MP_MESSAGING_CONNECTOR_SMALLRYE_KAFKA_BOOTSTRAP_SERVERS
        value: "template-k8s-kafka-bootstrap:9092"
  - name: vah
    image:
      repository: ghcr.io/forsakringskassan/template-quarkus-app
      tag: snapshot
    env:
      - name: MP_MESSAGING_CONNECTOR_SMALLRYE_KAFKA_BOOTSTRAP_SERVERS
        value: "template-k8s-kafka-bootstrap:9092"

apache:
  - name: apache
    image:
      repository: ghcr.io/forsakringskassan/designsystem-user-app
      tag: snapshot

ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "10m"
  hosts:
    - paths:
        - path: /api
          pathType: Prefix
          backend: quarkus
        - path: /
          pathType: Prefix
          backend: apache

strimzi:
  enabled: true

